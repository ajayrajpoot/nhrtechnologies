"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[767],{767:(T,d,e)=>{e.r(d),e.d(d,{LoginModule:()=>Z});var v=e(6814),h=e(1896),a=e(6223),t=e(5879),U=e(5629),b=e(2322),l=e(5195),c=e(2296),f=e(617),g=e(2032),n=e(1941);class E{isErrorState(m,i){return!!(m&&m.invalid&&(m.dirty||m.touched||i&&i.submitted))}}const S=[{path:"",component:(()=>{class o{constructor(i,r,s){this.fb=i,this.userSrv=r,this.gblSrv=s,this.matcher=new E,this.hide=!0,this.formErrorsUser={Email:"",Password:""},this.errorMessagesUser={Email:{required:"Enter Email.",email:"Enter valied Email"},Password:{required:"Enter Password."}}}ngOnInit(){this.bindFrm()}bindFrm(){this.frmUser=this.fb.group({Email:["admin@gmail.com",[a.kI.required,a.kI.email]],Password:["12345",[a.kI.required]]}),this.frmUser.valueChanges.subscribe(i=>{this.logValidationErrorUser(this.frmUser)})}logValidationErrorUser(i=this.frmUser){Object.keys(i.controls).forEach(r=>{const s=i.get(r);if(s instanceof a.cw)this.logValidationErrorUser(s);else if(this.formErrorsUser[r]="",s&&!s.valid&&(s.touched||s.dirty)){const u=this.errorMessagesUser[r];for(const p in s.errors)p&&(this.formErrorsUser[r]+=u[p]+" ")}})}markFormTouched(i){Object.values(i.controls).forEach(r=>{r.controls?this.markFormTouched(r):r.markAsTouched()}),this.logValidationErrorUser()}onSubmit(){this.userSrv.login(this.frmUser.value).subscribe(i=>{i.Result?(this.gblSrv.successNotification(i.Message),localStorage.setItem("localData",JSON.stringify(i)),this.gblSrv.redirect("/users")):this.gblSrv.errorNotification(i.Message)})}static#t=this.\u0275fac=function(r){return new(r||o)(t.Y36(a.qu),t.Y36(U.y),t.Y36(b.U))};static#r=this.\u0275cmp=t.Xpm({type:o,selectors:[["app-login"]],decls:27,vars:9,consts:[[1,"row","offset-2","col-8"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-sm-12","col-md-6","col-lg-4"],["type","email","matInput","","formControlName","Email",3,"errorStateMatcher"],["matInput","","formControlName","Password",3,"type","errorStateMatcher"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["mat-raised-button","","color","primary"]],template:function(r,s){1&r&&(t.TgZ(0,"div",0)(1,"mat-card")(2,"mat-card-content")(3,"h1"),t._uU(4,"Login"),t.qZA(),t.TgZ(5,"form",1),t.NdJ("ngSubmit",function(){return s.onSubmit()}),t.TgZ(6,"div",2)(7,"div",3)(8,"mat-form-field")(9,"mat-label"),t._uU(10,"Email"),t.qZA(),t._UZ(11,"input",4),t.TgZ(12,"mat-error"),t._uU(13),t.qZA()()(),t.TgZ(14,"div",3)(15,"mat-form-field")(16,"mat-label"),t._uU(17,"Password"),t.qZA(),t._UZ(18,"input",5),t.TgZ(19,"button",6),t.NdJ("click",function(){return s.hide=!s.hide}),t.TgZ(20,"mat-icon"),t._uU(21),t.qZA()(),t.TgZ(22,"mat-error"),t._uU(23),t.qZA()()(),t.TgZ(24,"div",3)(25,"button",7),t._uU(26,"Login"),t.qZA()()()()()()()),2&r&&(t.xp6(5),t.Q6J("formGroup",s.frmUser),t.xp6(6),t.Q6J("errorStateMatcher",s.matcher),t.xp6(2),t.hij(" ",s.formErrorsUser.Email,""),t.xp6(5),t.Q6J("type",s.hide?"password":"text")("errorStateMatcher",s.matcher),t.xp6(1),t.uIk("aria-label","Hide password")("aria-pressed",s.hide),t.xp6(2),t.Oqu(s.hide?"visibility_off":"visibility"),t.xp6(2),t.hij(" ",s.formErrorsUser.Password,""))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,l.a8,l.dn,c.lW,c.RK,f.Hw,g.Nt,n.KE,n.hX,n.TO,n.R9],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}"]})}return o})()}];let y=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#r=this.\u0275mod=t.oAB({type:o});static#s=this.\u0275inj=t.cJS({imports:[h.Bz.forChild(S),h.Bz]})}return o})(),Z=(()=>{class o{static#t=this.\u0275fac=function(r){return new(r||o)};static#r=this.\u0275mod=t.oAB({type:o});static#s=this.\u0275inj=t.cJS({imports:[v.ez,y,a.u5,a.UX,l.QW,c.ot,f.Ps,g.c]})}return o})()}}]);