"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[657],{9657:(B,m,l)=>{l.r(m),l.d(m,{UsersModule:()=>M});var u=l(6814),p=l(1896),t=l(5879),_=l(2322),U=l(5629),g=l(2296),r=l(5313),c=l(5195);function f(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," No. "),t.qZA())}function h(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const s=n.index;t.xp6(1),t.hij(" ",s+1," ")}}function C(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Name "),t.qZA())}function Z(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.Name," ")}}function T(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Email "),t.qZA())}function b(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.Email," ")}}function N(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Password "),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.Password," ")}}function A(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Gender "),t.qZA())}function y(e,n){if(1&e&&(t.TgZ(0,"td",16),t._uU(1),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.hij(" ",s.Gender," ")}}function L(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Role "),t.qZA())}function Y(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1,"Read Only"),t.qZA())}function w(e,n){1&e&&(t.TgZ(0,"span"),t._uU(1,"View & Edit"),t.qZA())}function Q(e,n){if(1&e&&(t.TgZ(0,"td",16),t.YNc(1,Y,2,0,"span",17),t.YNc(2,w,2,0,"span",17),t.qZA()),2&e){const s=n.$implicit;t.xp6(1),t.Q6J("ngIf","RO"==s.Role),t.xp6(1),t.Q6J("ngIf","VE"==s.Role)}}function R(e,n){1&e&&(t.TgZ(0,"th",15),t._uU(1," Action "),t.qZA())}function v(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"td",16)(1,"button",18),t.NdJ("click",function(){const a=t.CHM(s).$implicit,d=t.oxw();return t.KtG(d.redirect("editUsers/"+a._id))}),t._uU(2,"Update"),t.qZA(),t.TgZ(3,"button",19),t.NdJ("click",function(){const a=t.CHM(s).$implicit,d=t.oxw();return t.KtG(d.delete(a._id))}),t._uU(4,"Delete"),t.qZA()()}if(2&e){const s=t.oxw();t.xp6(1),t.Q6J("disabled","VE"!=(null==s.LoggedUser||null==s.LoggedUser.data?null:s.LoggedUser.data.Role)),t.xp6(2),t.Q6J("disabled","VE"!=(null==s.LoggedUser||null==s.LoggedUser.data?null:s.LoggedUser.data.Role))}}function D(e,n){1&e&&t._UZ(0,"tr",20)}function k(e,n){1&e&&t._UZ(0,"tr",21)}const J=[{path:"",component:(()=>{class e{constructor(s,o){this.gbl=s,this.userSrv=o,this.usersList=[],this.displayedColumns=["Position","Name","Email","Password","Gender","Role","Action"],this.dataSource=[],this.getUsers(),this.gbl.LoggedUser.subscribe(i=>{this.LoggedUser=i})}redirect(s,o=null){this.gbl.redirect(s,o)}getUsers(){try{this.userSrv.getUsers({}).subscribe(s=>{this.dataSource=s.User},s=>{console.error(s.error.Message),this.gbl.errorNotification(s.error.Message||s.error||s.message||s)})}catch(s){console.log("error---\x3e",s),this.gbl.errorNotification(s.Message)}}delete(s){try{if(!confirm("Are you sure to delete user ?"))return;this.userSrv.deleteUsers({id:s}).subscribe(o=>{o.Result?(this.gbl.successNotification(o.Message),this.getUsers()):this.gbl.errorNotification(o.Message)},o=>{console.error(o.error.Message),this.gbl.errorNotification(o.error.Message||o.error||o.message||o)})}catch(o){this.gbl.errorNotification(o.message||o)}}logout(){localStorage.clear(),this.redirect("login")}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(_.U),t.Y36(U.y))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-users"]],decls:36,vars:6,consts:[[2,"float","right"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","primary",3,"click"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","Position"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Email"],["matColumnDef","Password"],["matColumnDef","Gender"],["matColumnDef","Role"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["type","button","mat-raised-button","","color","primary",3,"disabled","click"],["type","button","mat-raised-button","","color","warn",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(o,i){1&o&&(t.TgZ(0,"mat-card")(1,"mat-card-content")(2,"p"),t._uU(3,"Users List "),t.qZA(),t.TgZ(4,"p",0),t._uU(5),t._UZ(6,"br"),t._uU(7),t.qZA(),t.TgZ(8,"button",1),t.NdJ("click",function(){return i.redirect("addUsers")}),t._uU(9,"Add New User"),t.qZA(),t.TgZ(10,"button",2),t.NdJ("click",function(){return i.logout()}),t._uU(11,"Logout"),t.qZA(),t.TgZ(12,"table",3),t.ynx(13,4),t.YNc(14,f,2,0,"th",5),t.YNc(15,h,2,1,"td",6),t.BQk(),t.ynx(16,7),t.YNc(17,C,2,0,"th",5),t.YNc(18,Z,2,1,"td",6),t.BQk(),t.ynx(19,8),t.YNc(20,T,2,0,"th",5),t.YNc(21,b,2,1,"td",6),t.BQk(),t.ynx(22,9),t.YNc(23,N,2,0,"th",5),t.YNc(24,x,2,1,"td",6),t.BQk(),t.ynx(25,10),t.YNc(26,A,2,0,"th",5),t.YNc(27,y,2,1,"td",6),t.BQk(),t.ynx(28,11),t.YNc(29,L,2,0,"th",5),t.YNc(30,Q,3,2,"td",6),t.BQk(),t.ynx(31,12),t.YNc(32,R,2,0,"th",5),t.YNc(33,v,5,2,"td",6),t.BQk(),t.YNc(34,D,1,0,"tr",13),t.YNc(35,k,1,0,"tr",14),t.qZA()()()),2&o&&(t.xp6(5),t.hij(" ",null==i.LoggedUser||null==i.LoggedUser.data?null:i.LoggedUser.data.Name,""),t.xp6(2),t.hij("",null==i.LoggedUser||null==i.LoggedUser.data?null:i.LoggedUser.data.Email," "),t.xp6(1),t.Q6J("disabled","VE"!=(null==i.LoggedUser||null==i.LoggedUser.data?null:i.LoggedUser.data.Role)),t.xp6(4),t.Q6J("dataSource",i.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns))},dependencies:[u.O5,g.lW,r.BZ,r.fO,r.as,r.w1,r.Dz,r.nj,r.ge,r.ev,r.XQ,r.Gk,c.a8,c.dn],styles:["mat-card[_ngcontent-%COMP%]{margin:30px}"]})}return e})()}];let q=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[p.Bz.forChild(J),p.Bz]})}return e})(),M=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#s=this.\u0275inj=t.cJS({imports:[u.ez,q,g.ot,r.p0,c.QW]})}return e})()}}]);